<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Easy Learning Academy - JAMB Preparation</title>
    <style>
        /* ============================================
           EASY LEARNING ACADEMY - CSS STYLES
           Color Scheme: Purple, White, Blue accents
           ============================================ */

        /* CSS Variables - Purple & White Theme */
        :root {
            --primary: #6b21a8;          /* Deep Purple */
            --primary-light: #9333ea;     /* Light Purple */
            --primary-dark: #581c87;      /* Dark Purple */
            --secondary: #3b82f6;         /* Blue accent */
            --secondary-light: #60a5fa;   /* Light Blue */
            --accent: #f59e0b;            /* Amber for warnings */
            --dark: #1e1b4b;              /* Very dark purple */
            --light: #faf5ff;             /* Very light purple tint */
            --white: #ffffff;
            --gray: #6b7280;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --shadow: 0 4px 6px rgba(107, 33, 168, 0.1);
            --shadow-lg: 0 10px 25px rgba(107, 33, 168, 0.15);
            --radius: 12px;
            --transition: all 0.3s ease;
        }

        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #faf5ff 0%, #e9d5ff 100%);
            min-height: 100vh;
            color: var(--dark);
            line-height: 1.6;
        }

        /* Header and Navigation */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: var(--white);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow-lg);
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            width: 50px;
            height: 50px;
            background: var(--white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--primary);
            font-size: 1.5rem;
            box-shadow: var(--shadow);
        }

        .site-title h1 {
            font-size: 1.5rem;
            margin-bottom: 0.2rem;
        }

        .site-title p {
            font-size: 0.85rem;
            opacity: 0.9;
        }

        /* Mobile Menu Toggle */
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--white);
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Navigation */
        nav ul {
            list-style: none;
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            align-items: center;
        }

        nav a {
            color: var(--white);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: var(--radius);
            transition: var(--transition);
            font-size: 0.9rem;
            white-space: nowrap;
        }

        nav a:hover, nav a.active {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }

        .nav-btn {
            background: var(--secondary);
            color: var(--white);
            font-weight: 600;
        }

        .nav-btn:hover {
            background: var(--secondary-light);
        }

        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Section Styles */
        .section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Card Component */
        .card {
            background: var(--white);
            border-radius: var(--radius);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid #e9d5ff;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .card-header {
            border-bottom: 3px solid var(--primary);
            padding-bottom: 1rem;
            margin-bottom: 1.5rem;
        }

        .card-title {
            color: var(--primary);
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>
    <!-- Header with Navigation -->
    <header>
        <div class="header-container">
            <div class="logo-section">
                <div class="logo">ELA</div>
                <div class="site-title">
                    <h1>Easy Learning Academy</h1>
                    <p>Your Gateway to JAMB Success</p>
                </div>
            </div>
            <button class="menu-toggle" onclick="toggleMenu()">‚ò∞</button>
            <nav id="mainNav">
                <ul>
                    <li><a href="#" onclick="showSection('home')" class="nav-link active">Home</a></li>
                    <li><a href="#" onclick="showSection('past-questions')" class="nav-link">Past Questions</a></li>
                    <li><a href="#" onclick="showSection('mock-exam')" class="nav-link nav-btn">Mock Exam</a></li>
                    <li><a href="#" onclick="showSection('subjects')" class="nav-link">Subjects</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container">
          <!-- HOME SECTION -->
        <section id="home" class="section active">
            <div class="hero" style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%); color: var(--white); padding: 3rem 2rem; border-radius: var(--radius); text-align: center; margin-bottom: 2rem; position: relative; overflow: hidden;">
                <div style="position: absolute; top: -50%; right: -10%; width: 300px; height: 300px; background: rgba(255,255,255,0.1); border-radius: 50%;"></div>
                <h2 style="font-size: 2.5rem; margin-bottom: 1rem; position: relative;">Welcome to Easy Learning Academy</h2>
                <p style="font-size: 1.2rem; max-width: 600px; margin: 0 auto 2rem; opacity: 0.95;">Master JAMB UTME with our comprehensive past questions, realistic mock exams, and expert guidance. Your success story starts here!</p>
                <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <button class="btn btn-primary" onclick="showSection('mock-exam')" style="padding: 0.875rem 2rem; border: none; border-radius: var(--radius); font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); background: var(--secondary); color: var(--white);">Start Mock Exam</button>
                    <button class="btn btn-secondary" onclick="showSection('past-questions')" style="padding: 0.875rem 2rem; border: none; border-radius: var(--radius); font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); background: var(--white); color: var(--primary);">Practice Past Questions</button>
                </div>
            </div>

            <!-- Audio Updates Section -->
            <div style="background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary) 100%); color: var(--white); padding: 2rem; border-radius: var(--radius); margin-bottom: 2rem;">
                <h3 style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">üîä Weekly JAMB Updates & News</h3>
                <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                    <div style="display: flex; align-items: center; gap: 1rem; padding: 0.75rem; background: rgba(255,255,255,0.1); border-radius: 8px; margin-bottom: 0.5rem; cursor: pointer; transition: var(--transition);" onmouseover="this.style.background='rgba(255,255,255,0.2)'" onmouseout="this.style.background='rgba(255,255,255,0.1)'">
                        <div style="width: 40px; height: 40px; background: var(--white); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--primary);">‚ñ∂</div>
                        <div>
                            <div style="font-weight: 600;">JAMB 2025 Registration Updates</div>
                            <div style="font-size: 0.875rem; opacity: 0.8;">Duration: 3:45</div>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 1rem; padding: 0.75rem; background: rgba(255,255,255,0.1); border-radius: 8px; margin-bottom: 0.5rem; cursor: pointer; transition: var(--transition);" onmouseover="this.style.background='rgba(255,255,255,0.2)'" onmouseout="this.style.background='rgba(255,255,255,0.1)'">
                        <div style="width: 40px; height: 40px; background: var(--white); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--primary);">‚ñ∂</div>
                        <div>
                            <div style="font-weight: 600;">New UTME Syllabus Changes</div>
                            <div style="font-size: 0.875rem; opacity: 0.8;">Duration: 5:20</div>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 1rem; padding: 0.75rem; background: rgba(255,255,255,0.1); border-radius: 8px; margin-bottom: 0.5rem; cursor: pointer; transition: var(--transition);" onmouseover="this.style.background='rgba(255,255,255,0.2)'" onmouseout="this.style.background='rgba(255,255,255,0.1)'">
                        <div style="width: 40px; height: 40px; background: var(--white); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--primary);">‚ñ∂</div>
                        <div>
                            <div style="font-weight: 600;">Exam Day Tips & Guidelines</div>
                            <div style="font-size: 0.875rem; opacity: 0.8;">Duration: 4:15</div>
                        </div>
                    </div>
                </div>
                <p style="font-size: 0.9rem; opacity: 0.9;">Stay updated with the latest JAMB news, registration deadlines, and examination guidelines.</p>
            </div>

            <!-- Latest News -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Latest JAMB News</h3>
                </div>
                <div style="border-left: 3px solid var(--secondary); padding-left: 1rem; margin-bottom: 1.5rem;">
                    <div style="color: var(--gray); font-size: 0.875rem; margin-bottom: 0.25rem;">February 20, 2025</div>
                    <div style="font-weight: 600; color: var(--dark); margin-bottom: 0.5rem;">JAMB Announces 2025 UTME Registration Dates</div>
                    <div style="color: var(--gray); line-height: 1.6;">The Joint Admissions and Matriculation Board has announced that registration for the 2025 Unified Tertiary Matriculation Examination will commence on March 1st, 2025.</div>
                </div>
                <div style="border-left: 3px solid var(--secondary); padding-left: 1rem; margin-bottom: 1.5rem;">
                    <div style="color: var(--gray); font-size: 0.875rem; margin-bottom: 0.25rem;">February 18, 2025</div>
                    <div style="font-weight: 600; color: var(--dark); margin-bottom: 0.5rem;">New Computer-Based Test Centers Approved</div>
                    <div style="color: var(--gray); line-height: 1.6;">JAMB has approved 50 new CBT centers across the nation to accommodate the growing number of candidates for the upcoming examination.</div>
                </div>
                <div style="border-left: 3px solid var(--secondary); padding-left: 1rem; margin-bottom: 1.5rem;">
                    <div style="color: var(--gray); font-size: 0.875rem; margin-bottom: 0.25rem;">February 15, 2025</div>
                    <div style="font-weight: 600; color: var(--dark); margin-bottom: 0.5rem;">Syllabus Updates for Sciences</div>
                    <div style="color: var(--gray); line-height: 1.6;">Minor adjustments have been made to the Physics and Chemistry syllabi. Candidates are advised to check the official JAMB brochure for details.</div>
                </div>
            </div>

            <!-- Quick Subject Access -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Quick Subject Access</h3>
                </div>
                <div class="subject-grid" id="homeSubjects" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 2rem;">
                    <!-- Populated by JavaScript -->
                </div>
            </div>
  </section>
              <!-- PAST QUESTIONS SECTION -->
        <section id="past-questions" class="section">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">JAMB Past Questions (2015-2025)</h3>
                    <p style="color: var(--gray);">Practice with authentic UTME questions from previous years</p>
                </div>

                <div style="background: #ede9fe; border-left: 4px solid var(--primary); padding: 1rem; margin-bottom: 1.5rem; border-radius: 0 8px 8px 0;">
                    <strong>How to use:</strong>
                    <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                        <li>Select a subject from the dropdown below</li>
                        <li>Choose specific year(s) or select "All Years" for mixed practice</li>
                        <li>Questions are randomized each time you load</li>
                        <li>Click on an option to see if it's correct (practice mode)</li>
                    </ul>
                </div>

                <div style="display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap; align-items: end;">
                    <div style="flex: 1; min-width: 200px;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--dark);">Select Subject</label>
                        <select id="pqSubject" onchange="loadPastQuestions()" style="width: 100%; padding: 0.75rem; border: 2px solid #ddd6fe; border-radius: 8px; font-size: 1rem; transition: var(--transition);">
                            <option value="">-- Choose Subject --</option>
                        </select>
                    </div>
                    <div style="flex: 1; min-width: 200px;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--dark);">Select Year</label>
                        <select id="pqYear" onchange="loadPastQuestions()" style="width: 100%; padding: 0.75rem; border: 2px solid #ddd6fe; border-radius: 8px; font-size: 1rem; transition: var(--transition);">
                            <option value="all">All Years (Randomized)</option>
                            <option value="2025">2025</option>
                            <option value="2024">2024</option>
                            <option value="2023">2023</option>
                            <option value="2022">2022</option>
                            <option value="2021">2021</option>
                            <option value="2020">2020</option>
                            <option value="2019">2019</option>
                            <option value="2018">2018</option>
                            <option value="2017">2017</option>
                            <option value="2016">2016</option>
                            <option value="2015">2015</option>
                        </select>
                    </div>
                    <div style="flex: 1; min-width: 200px;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--dark);">Number of Questions</label>
                        <select id="pqCount" style="width: 100%; padding: 0.75rem; border: 2px solid #ddd6fe; border-radius: 8px; font-size: 1rem; transition: var(--transition);">
                            <option value="10">10 Questions</option>
                            <option value="20" selected>20 Questions</option>
                            <option value="40">40 Questions</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" onclick="loadPastQuestions()" style="padding: 0.875rem 2rem; border: none; border-radius: var(--radius); font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); background: var(--primary); color: var(--white);">Load Questions</button>
                </div>

                <div id="questionsContainer">
                    <div style="text-align: center; padding: 3rem; color: var(--gray);">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üìö</div>
                        <p>Select a subject and year to begin practicing</p>
                    </div>
                </div>
            </div>
                          </section>
              <!-- MOCK EXAM SECTION -->
        <section id="mock-exam" class="section">
            <!-- Setup Phase -->
            <div id="mockSetup" style="background: var(--white); border-radius: var(--radius); padding: 2rem; margin-bottom: 2rem; border: 1px solid #e9d5ff;">
                <div class="card-header">
                    <h3 class="card-title">JAMB Mock Examination</h3>
                    <p style="color: var(--gray);">Simulate the real UTME experience with timed exams</p>
                </div>

                <div style="background: #ede9fe; border-left: 4px solid var(--primary); padding: 1rem; margin-bottom: 1.5rem; border-radius: 0 8px 8px 0;">
                    <strong>Exam Rules:</strong>
                    <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                        <li>Select exactly 4 subjects (standard JAMB combination)</li>
                        <li>English Language is compulsory and pre-selected</li>
                        <li>40 questions per subject (160 total)</li>
                        <li>Time allowed: 2 hours (120 minutes)</li>
                        <li>You can pause the exam but timer stops only if exam is paused</li>
                        <li>Audio notifications will guide you through the exam</li>
                    </ul>
                </div>

                <h4 style="margin: 1.5rem 0 1rem;">Select Your Subjects (Choose 3 + English):</h4>
                
                <div style="margin-bottom: 1rem;">
                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--dark);">Exam Mode</label>
                    <select id="examMode" style="width: 100%; padding: 0.75rem; border: 2px solid #ddd6fe; border-radius: 8px; font-size: 1rem; transition: var(--transition);">
                        <option value="standard">Standard Mock (40 questions/subject, 2 hours)</option>
                        <option value="full">Full Exam (100 questions/subject, 3 hours)</option>
                    </select>
                </div>

                <div class="subject-selection" id="mockSubjectSelection" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
                    <!-- Populated by JavaScript -->
                </div>

                <div style="margin-top: 1.5rem; padding: 1rem; background: #fef3c7; border-radius: 8px; display: none;" id="selectionWarning">
                    <strong>‚ö†Ô∏è Please select exactly 3 subjects plus English (total 4 subjects)</strong>
                </div>

                <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; margin-top: 2rem;">
                    <button class="btn btn-primary" onclick="startMockExam()" style="padding: 0.875rem 2rem; border: none; border-radius: var(--radius); font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); background: var(--primary); color: var(--white);">Start Mock Exam</button>
                    <button class="btn btn-secondary" onclick="showSection('home')" style="padding: 0.875rem 2rem; border: none; border-radius: var(--radius); font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); background: var(--secondary); color: var(--white);">Cancel</button>
                </div>
            </div>

            <!-- Exam Interface (Hidden initially) -->
            <div id="examInterface" style="display: none;">
                <div style="background: var(--dark); color: var(--white); padding: 1rem 2rem; border-radius: var(--radius); margin-bottom: 2rem; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; position: sticky; top: 80px; z-index: 100;">
                    <div>
                        <h3 id="examSubjectTitle" style="color: var(--white);">Mathematics</h3>
                        <span id="examProgressText">Question 1 of 40</span>
                    </div>
                    <div class="timer" id="examTimer" style="font-size: 2rem; font-weight: bold; font-family: 'Courier New', monospace; color: var(--secondary-light);">02:00:00</div>
                    <button class="btn btn-warning" onclick="pauseExam()" style="padding: 0.875rem 2rem; border: none; border-radius: var(--radius); font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); background: var(--warning); color: var(--dark);">‚è∏ Pause</button>
                </div>

                <div class="exam-progress" id="examProgress" style="display: flex; gap: 0.5rem; flex-wrap: wrap; margin-bottom: 1rem;">
                    <!-- Progress dots populated by JS -->
                </div>

                <div id="examQuestionContainer">
                    <!-- Questions populated by JS -->
                </div>

                <div style="display: flex; gap: 1rem; margin-top: 2rem; justify-content: space-between; flex-wrap: wrap;">
                    <button class="btn btn-secondary" onclick="prevQuestion()" style="padding: 0.875rem 2rem; border: none; border-radius: var(--radius); font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); background: var(--gray); color: var(--white);">‚Üê Previous</button>
                    <button class="btn btn-primary" onclick="nextQuestion()" style="padding: 0.875rem 2rem; border: none; border-radius: var(--radius); font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); background: var(--primary); color: var(--white);">Next ‚Üí</button>
                    <button class="btn btn-danger" onclick="confirmSubmitExam()" style="padding: 0.875rem 2rem; border: none; border-radius: var(--radius); font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); background: var(--danger); color: var(--white);">Submit Exam</button>
                </div>
                      </div>
                              <!-- Results (Hidden initially) -->
            <div id="examResults" style="display: none;">
                <div style="background: var(--white); border-radius: var(--radius); padding: 3rem 2rem; text-align: center; box-shadow: var(--shadow-lg); border: 1px solid #e9d5ff;">
                    <h2>üéâ Exam Completed!</h2>
                    <div id="scoreCircle" style="width: 200px; height: 200px; border-radius: 50%; background: conic-gradient(var(--primary) calc(var(--percentage) * 1%), #e9d5ff 0); display: flex; align-items: center; justify-content: center; margin: 2rem auto; position: relative;">
                        <div style="width: 160px; height: 160px; background: var(--white); border-radius: 50%; position: absolute;"></div>
                        <div style="position: relative; z-index: 1;">
                            <div id="totalScore" style="font-size: 3rem; font-weight: bold; color: var(--primary);">0</div>
                            <div style="color: var(--gray); font-size: 0.875rem;">Total Score</div>
                        </div>
                    </div>
                    
                    <div id="gradeBadge" style="display: inline-block; padding: 0.5rem 2rem; border-radius: 30px; font-size: 1.5rem; font-weight: bold; margin: 1rem 0;">Grade: -</div>
                    
                    <h3 style="margin: 1.5rem 0 1rem;">Subject Breakdown</h3>
                    <div id="subjectBreakdown" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 2rem; text-align: left;">
                        <!-- Populated by JS -->
                    </div>

                    <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; margin-top: 2rem;">
                        <button class="btn btn-primary" onclick="reviewExam()" style="padding: 0.875rem 2rem; border: none; border-radius: var(--radius); font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); background: var(--primary); color: var(--white);">Review Answers</button>
                        <button class="btn btn-secondary" onclick="showSection('home')" style="padding: 0.875rem 2rem; border: none; border-radius: var(--radius); font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); background: var(--secondary); color: var(--white);">Back to Home</button>
                        <button class="btn btn-success" onclick="startNewMock()" style="padding: 0.875rem 2rem; border: none; border-radius: var(--radius); font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); background: var(--success); color: var(--white);">New Mock Exam</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- SUBJECTS SECTION -->
        <section id="subjects" class="section">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">All JAMB Subjects</h3>
                    <p style="color: var(--gray);">Click on any subject to practice past questions</p>
                </div>
                <div class="subject-grid" id="allSubjectsGrid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 2rem;">
                    <!-- Populated by JavaScript -->
                </div>
            </div>
        </section>
    </div>

    <!-- Pause Menu Overlay -->
    <div id="pauseMenu" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(30, 27, 75, 0.95); display: none; flex-direction: column; align-items: center; justify-content: center; z-index: 3000; color: var(--white);">
        <h2 style="font-size: 3rem; margin-bottom: 2rem;">‚è∏ Exam Paused</h2>
        <p style="margin-bottom: 2rem; opacity: 0.8;">Take a breather. Your progress is saved.</p>
        <button class="btn btn-primary" onclick="resumeExam()" style="font-size: 1.2rem; padding: 1rem 3rem; border: none; border-radius: var(--radius); font-weight: 600; cursor: pointer; transition: var(--transition); background: var(--secondary); color: var(--white);">Resume Exam</button>
        <button class="btn btn-danger" onclick="confirmEndExam()" style="margin-top: 1rem; padding: 0.875rem 2rem; border: none; border-radius: var(--radius); font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); background: var(--danger); color: var(--white);">End Exam</button>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmModal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); display: none; align-items: center; justify-content: center; z-index: 2000; backdrop-filter: blur(5px);">
        <div style="background: var(--white); padding: 2rem; border-radius: var(--radius); max-width: 500px; width: 90%; text-align: center; animation: modalSlide 0.3s ease; border: 2px solid #e9d5ff;">
            <div style="font-size: 4rem; margin-bottom: 1rem;">‚ö†Ô∏è</div>
            <h3 id="modalTitle">Confirm Action</h3>
            <p id="modalMessage" style="margin: 1rem 0;">Are you sure you want to proceed?</p>
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; margin-top: 1.5rem;">
                <button class="btn btn-secondary" onclick="closeModal()" style="padding: 0.875rem 2rem; border: none; border-radius: var(--radius); font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); background: var(--gray); color: var(--white);">Cancel</button>
                <button class="btn btn-danger" id="modalConfirmBtn" style="padding: 0.875rem 2rem; border: none; border-radius: var(--radius); font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); background: var(--danger); color: var(--white);">Confirm</button>
            </div>
        </div>
    </div>

    <!-- Audio Elements for Notifications -->
    <audio id="audioStart" preload="auto">
        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTGH0fPTgjMGHm7A7+OZURE" type="audio/wav">
    </audio>
    <audio id="audioWarning" preload="auto">
        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTGH0fPTgjMGHm7A7+OZURE" type="audio/wav">
    </audio>
    <audio id="audioSubmit" preload="auto">
        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTGH0fPTgjMGHm7A7+OZURE" type="audio/wav">
          </audio>
  /* ============================================
   EASY LEARNING ACADEMY - JAVASCRIPT
   Box 1: Data Structures & Question Bank
   ============================================ */

const subjects = {
    english: {
        name: "Use of English",
        icon: "üìñ",
        description: "Language and comprehension skills",
        years: {}
    },
    mathematics: {
        name: "Mathematics",
        icon: "üî¢",
        description: "Algebra, calculus, and geometry",
        years: {}
    },
    physics: {
        name: "Physics",
        icon: "‚öõÔ∏è",
        description: "Mechanics, waves, and modern physics",
        years: {}
    },
    chemistry: {
        name: "Chemistry",
        icon: "‚öóÔ∏è",
        description: "Organic, inorganic, and physical chemistry",
        years: {}
    },
    biology: {
        name: "Biology",
        icon: "üß¨",
        description: "Ecology, genetics, and physiology",
        years: {}
    },
    economics: {
        name: "Economics",
        icon: "üìä",
        description: "Micro and macroeconomics",
        years: {}
    },
    government: {
        name: "Government",
        icon: "üèõÔ∏è",
        description: "Political systems and administration",
        years: {}
    },
    crs: {
        name: "CRS/CRK",
        icon: "‚úùÔ∏è",
        description: "Christian Religious Studies",
        years: {}
    },
    literature: {
        name: "Literature in English",
        icon: "üìö",
        description: "Prose, poetry, and drama",
        years: {}
    },
    commerce: {
        name: "Commerce",
        icon: "üíº",
        description: "Business and trade",
        years: {}
    },
    accounting: {
        name: "Principles of Accounting",
        icon: "üßÆ",
        description: "Financial and management accounting",
        years: {}
    },
    geography: {
        name: "Geography",
        icon: "üåç",
        description: "Physical and human geography",
        years: {}
    }
};

function generateQuestionBank() {
    const years = [2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024, 2025];
    
    Object.keys(subjects).forEach(subjectKey => {
        const subject = subjects[subjectKey];
        years.forEach(year => {
            subject.years[year] = [];
            for (let i = 1; i <= 50; i++) {
                const question = generateQuestion(subjectKey, year, i);
                subject.years[year].push(question);
            }
        });
    });
}

function generateQuestion(subject, year, index) {
    const templates = getQuestionTemplates(subject);
    const template = templates[Math.floor(Math.random() * templates.length)];
    return {
        id: `${subject}_${year}_${index}`,
        year: year,
        question: template.question,
        options: shuffleArray([...template.options]),
        correct: template.correct,
        explanation: template.explanation
    };
}

function shuffleArray(array) {
    const newArray = [...array];
    for (let i = newArray.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
    }
    return newArray;
}

function generateRandomQuestions(subjectKey, count, yearFilter = 'all') {
    const subject = subjects[subjectKey];
    let availableQuestions = [];
    if (yearFilter === 'all') {
        Object.values(subject.years).forEach(yearQuestions => {
            availableQuestions = availableQuestions.concat(yearQuestions);
        });
    } else {
        availableQuestions = subject.years[yearFilter] || [];
    }
    const shuffled = shuffleArray(availableQuestions);
    return shuffled.slice(0, Math.min(count, shuffled.length));
}
              /* ============================================
   Box 2: Question Templates for All Subjects
   ============================================ */

function getQuestionTemplates(subject) {
    const templates = {
        english: [
            {
                question: "Choose the word that best completes the sentence: The government has implemented policies to _____ corruption in the public sector.",
                options: ["encourage", "combat", "promote", "support"],
                correct: "combat",
                explanation: "Combat means to fight against, which fits the context of fighting corruption."
            },
            {
                question: "Select the option that has the same vowel sound as the word 'said':",
                options: ["seed", "sad", "bed", "paid"],
                correct: "bed",
                explanation: "Both 'said' and 'bed' have the short /e/ vowel sound."
            },
            {
                question: "Identify the figurative device in: 'The wind whispered through the trees.'",
                options: ["Simile", "Metaphor", "Personification", "Hyperbole"],
                correct: "Personification",
                explanation: "The wind is given human qualities (whispering), which is personification."
            },
            {
                question: "Choose the correct spelling:",
                options: ["accomodate", "accommodate", "acommodate", "acomodate"],
                correct: "accommodate",
                explanation: "The correct spelling is accommodate with double 'c' and double 'm'."
            }
        ],
        mathematics: [
            {
                question: "If log‚ÇÇ(x) + log‚ÇÇ(x-2) = 3, find the value of x.",
                options: ["4", "3", "2", "1"],
                correct: "4",
                explanation: "Using logarithm properties: log‚ÇÇ[x(x-2)] = 3 ‚Üí x(x-2) = 8 ‚Üí x¬≤-2x-8=0 ‚Üí (x-4)(x+2)=0 ‚Üí x=4"
            },
            {
                question: "Find the derivative of f(x) = 3x‚Å¥ - 2x¬≤ + 5x - 1",
                options: ["12x¬≥ - 4x + 5", "12x¬≥ - 4x¬≤ + 5", "12x‚Å¥ - 4x + 5", "12x¬≥ - 2x + 5"],
                correct: "12x¬≥ - 4x + 5",
                explanation: "Using power rule: d/dx(3x‚Å¥) = 12x¬≥, d/dx(-2x¬≤) = -4x, d/dx(5x) = 5, d/dx(-1) = 0"
            },
            {
                question: "A committee of 5 is to be formed from 8 men and 4 women. In how many ways can this be done if the committee must include exactly 2 women?",
                options: ["336", "280", "168", "112"],
                correct: "336",
                explanation: "C(4,2) √ó C(8,3) = 6 √ó 56 = 336 ways"
            },
            {
                question: "Solve for x: |2x - 3| < 5",
                options: ["-1 < x < 4", "1 < x < 4", "-4 < x < 1", "-1 < x < 1"],
                correct: "-1 < x < 4",
                explanation: "-5 < 2x-3 < 5 ‚Üí -2 < 2x < 8 ‚Üí -1 < x < 4"
            }
        ],
        physics: [
            {
                question: "A particle of mass 0.5kg moves in a circular path of radius 2m with angular velocity 3 rad/s. Calculate the centripetal force.",
                options: ["9N", "6N", "3N", "12N"],
                correct: "9N",
                explanation: "F = mrœâ¬≤ = 0.5 √ó 2 √ó 3¬≤ = 9N"
            },
            {
                question: "The half-life of a radioactive substance is 10 days. What fraction of the original sample remains after 40 days?",
                options: ["1/16", "1/8", "1/4", "1/2"],
                correct: "1/16",
                explanation: "Number of half-lives = 40/10 = 4. Fraction remaining = (1/2)‚Å¥ = 1/16"
            },
            {
                question: "A convex lens of focal length 10cm forms an image of an object placed 15cm from the lens. Calculate the image distance.",
                options: ["30cm", "6cm", "25cm", "15cm"],
                correct: "30cm",
                explanation: "1/f = 1/u + 1/v ‚Üí 1/10 = 1/15 + 1/v ‚Üí v = 30cm"
            },
            {
                question: "Calculate the work done when a force of 20N moves an object through a distance of 5m at an angle of 60¬∞ to the horizontal.",
                options: ["50J", "100J", "86.6J", "50‚àö3 J"],
                correct: "50J",
                explanation: "W = Fd cosŒ∏ = 20 √ó 5 √ó cos(60¬∞) = 100 √ó 0.5 = 50J"
            }
        ],
        chemistry: [
            {
                question: "Which of the following compounds will undergo addition reaction with chlorine?",
                options: ["Benzene", "Ethane", "Ethene", "Methane"],
                correct: "Ethene",
                explanation: "Ethene (C‚ÇÇH‚ÇÑ) has a double bond that can undergo addition reactions with halogens."
            },
            {
                question: "Calculate the pH of a 0.001M solution of HCl.",
                options: ["3", "11", "2", "4"],
                correct: "3",
                explanation: "pH = -log[H‚Å∫] = -log(0.001) = -log(10‚Åª¬≥) = 3"
            },
            {
                question: "In the electrolysis of dilute H‚ÇÇSO‚ÇÑ using platinum electrodes, what is the product at the anode?",
                options: ["Hydrogen", "Oxygen", "Sulfur dioxide", "Sulfur"],
                correct: "Oxygen",
                explanation: "At the anode: 4OH‚Åª ‚Üí 2H‚ÇÇO + O‚ÇÇ + 4e‚Åª. Oxygen gas is evolved."
            },
            {
                question: "Which quantum number determines the shape of an orbital?",
                options: ["Principal", "Azimuthal", "Magnetic", "Spin"],
                correct: "Azimuthal",
                explanation: "The azimuthal quantum number (l) determines the shape of the orbital (s, p, d, f)."
            }
        ],
        biology: [
            {
                question: "Which of the following is NOT a function of the mammalian liver?",
                options: ["Detoxification", "Production of bile", "Storage of vitamin C", "Regulation of blood glucose"],
                correct: "Storage of vitamin C",
                explanation: "The liver stores vitamins A, D, E, K, and B12, but not vitamin C (ascorbic acid)."
            },
            {
                question: "In a food chain: Grass ‚Üí Grasshopper ‚Üí Frog ‚Üí Snake ‚Üí Hawk. Which organism is the tertiary consumer?",
                options: ["Grasshopper", "Frog", "Snake", "Hawk"],
                correct: "Snake",
                explanation: "Tertiary consumers are at the 4th trophic level. Snake eats frog (secondary consumer)."
            },
            {
                question: "Which of the following is a characteristic of all living organisms?",
                options: ["Ability to move", "Presence of specialized cells", "Response to stimuli", "Ability to photosynthesize"],
                correct: "Response to stimuli",
                explanation: "All living organisms respond to stimuli (irritability). Not all can move or photosynthesize."
            },
            {
                question: "During which phase of meiosis does crossing over occur?",
                options: ["Prophase I", "Metaphase I", "Anaphase I", "Telophase I"],
                correct: "Prophase I",
                explanation: "Crossing over (exchange of genetic material) occurs during prophase I of meiosis."
            }
        ],
        economics: [
            {
                question: "If the price elasticity of demand for a product is 0.5, what type of demand is this?",
                options: ["Perfectly elastic", "Elastic", "Inelastic", "Unitary elastic"],
                correct: "Inelastic",
                explanation: "When PED < 1, demand is inelastic (quantity changes less than price)."
            },
            {
                question: "Which of the following is a function of the Central Bank?",
                options: ["Accepting deposits from individuals", "Granting loans to businesses", "Issuance of currency", "Selling insurance policies"],
                correct: "Issuance of currency",
                explanation: "The Central Bank has the sole authority to issue currency in an economy."
            },
            {
                question: "Calculate the marginal cost when total cost increases from ‚Ç¶500 to ‚Ç¶700 as output increases from 10 to 15 units.",
                options: ["‚Ç¶40", "‚Ç¶50", "‚Ç¶60", "‚Ç¶70"],
                correct: "‚Ç¶40",
                explanation: "MC = ŒîTC/ŒîQ = (700-500)/(15-10) = 200/5 = ‚Ç¶40"
            },
            {
                question: "Which market structure is characterized by many sellers offering differentiated products?",
                options: ["Perfect competition", "Monopoly", "Monopolistic competition", "Oligopoly"],
                correct: "Monopolistic competition",
                explanation: "Monopolistic competition has many firms selling similar but differentiated products."
            }
        ],
        government: [
            {
                question: "Which of the following is a feature of a federal system of government?",
                options: ["Unicameral legislature", "Concentration of power", "Division of powers between central and regional governments", "Absence of written constitution"],
                correct: "Division of powers between central and regional governments",
                explanation: "Federalism involves sharing of powers between central and constituent governments."
            },
            {
                question: "The principle of checks and balances is designed to:",
                options: ["Increase executive power", "Prevent tyranny by any branch of government", "Eliminate the judiciary", "Strengthen the legislature"],
                correct: "Prevent tyranny by any branch of government",
                explanation: "Checks and balances ensure no single branch becomes too powerful."
            },
            {
                question: "Which international organization was established to maintain world peace and security after WWII?",
                options: ["League of Nations", "United Nations", "Commonwealth of Nations", "NATO"],
                correct: "United Nations",
                explanation: "The UN was established in 1945 to maintain international peace and security."
            },
            {
                question: "In Nigeria, the power to declare war is vested in the:",
                options: ["Senate", "President", "Chief of Defence Staff", "National Security Council"],
                correct: "President",
                explanation: "The President as Commander-in-Chief has the constitutional power to declare war."
            }
        ],
        crs: [
            {
                question: "According to Genesis, on which day did God create man?",
                options: ["Third day", "Fourth day", "Fifth day", "Sixth day"],
                correct: "Sixth day",
                explanation: "Genesis 1:26-31 records that man was created on the sixth day."
            },
            {
                question: "Who was the first king of Israel?",
                options: ["David", "Solomon", "Saul", "Samuel"],
                correct: "Saul",
                explanation: "Saul was anointed by Samuel as the first king of Israel (1 Samuel 10:1)."
            },
            {
                question: "The Sermon on the Mount is found in which Gospel?",
                options: ["Matthew", "Mark", "Luke", "John"],
                correct: "Matthew",
                explanation: "The Sermon on the Mount is recorded in Matthew chapters 5-7."
            },
            {
                question: "What was the name of the garden where Jesus prayed before his arrest?",
                options: ["Gethsemane", "Golgotha", "Gethsamane", "Gethsemane"],
                correct: "Gethsemane",
                explanation: "Jesus prayed in the Garden of Gethsemane before his arrest (Matthew 26:36)."
            }
        ],
        literature: [
            {
                question: "A tragic flaw in a tragic hero is also known as:",
                options: ["Hubris", "Hamartia", "Catharsis", "Anagnorisis"],
                correct: "Hamartia",
                explanation: "Hamartia is the tragic flaw that leads to the downfall of a tragic hero."
            },
            {
                question: "In William Shakespeare's 'Macbeth', what is Macbeth's tragic flaw?",
                options: ["Cowardice", "Excessive ambition", "Laziness", "Honesty"],
                correct: "Excessive ambition",
                explanation: "Macbeth's excessive ambition (vaulting ambition) leads to his downfall."
            },
            {
                question: "Which literary device involves giving human qualities to non-human things?",
                options: ["Simile", "Metaphor", "Personification", "Alliteration"],
                correct: "Personification",
                explanation: "Personification attributes human characteristics to animals, objects, or abstract ideas."
            },
            {
                question: "A poem of fourteen lines with a specific rhyme scheme is called:",
                options: ["Ode", "Elegy", "Sonnet", "Ballad"],
                correct: "Sonnet",
                explanation: "A sonnet is a 14-line poem, typically with a specific rhyme scheme (Petrarchan or Shakespearean)."
            }
        ],
        commerce: [
            {
                question: "Which of the following is NOT a function of a retailer?",
                options: ["Breaking bulk", "Providing credit facilities", "Manufacturing goods", "Advising consumers"],
                correct: "Manufacturing goods",
                explanation: "Retailers sell goods to final consumers; they do not manufacture goods."
            },
            {
                question: "The document sent by a seller to a buyer stating the quantity, description, and price of goods is called:",
                options: ["Invoice", "Receipt", "Quotation", "Delivery note"],
                correct: "Invoice",
                explanation: "An invoice is a commercial document issued by a seller to a buyer."
            },
            {
                question: "Which type of insurance covers loss of profit due to business interruption?",
                options: ["Life insurance", "Fire insurance", "Consequential loss insurance", "Marine insurance"],
                correct: "Consequential loss insurance",
                explanation: "Consequential loss insurance covers indirect losses like loss of profits."
            },
            {
                question: "The channel of distribution that involves the producer selling directly to the consumer is:",
                options: ["One-level channel", "Zero-level channel", "Two-level channel", "Three-level channel"],
                correct: "Zero-level channel",
                explanation: "Zero-level channel (direct marketing) has no intermediaries."
            }
        ],
        accounting: [
            {
                question: "The accounting equation is:",
                options: ["Assets = Liabilities - Capital", "Assets = Liabilities + Capital", "Assets + Liabilities = Capital", "Assets = Capital - Liabilities"],
                correct: "Assets = Liabilities + Capital",
                explanation: "Assets = Liabilities + Owner's Equity (Capital)"
            },
            {
                question: "Which of the following is a nominal account?",
                options: ["Machinery", "Purchases", "Debtors", "Bank"],
                correct: "Purchases",
                explanation: "Purchases is a nominal account (expense). Machinery is real, Debtors is personal."
            },
            {
                question: "Depreciation is provided on:",
                options: ["Land", "Stock", "Fixed assets", "Debtors"],
                correct: "Fixed assets",
                explanation: "Depreciation is the systematic allocation of cost of fixed assets over useful life."
            },
            {
                question: "The excess of current assets over current liabilities is called:",
                options: ["Working capital", "Capital employed", "Net assets", "Fixed capital"],
                correct: "Working capital",
                explanation: "Working capital = Current Assets - Current Liabilities"
            }
        ],
        geography: [
            {
                question: "Which of the following is an example of a metamorphic rock?",
                options: ["Granite", "Basalt", "Marble", "Sandstone"],
                correct: "Marble",
                explanation: "Marble is metamorphosed limestone. Granite and basalt are igneous; sandstone is sedimentary."
            },
            {
                question: "The imaginary line that divides the Earth into Northern and Southern hemispheres is:",
                options: ["Prime Meridian", "Tropic of Cancer", "Equator", "Arctic Circle"],
                correct: "Equator",
                explanation: "The Equator (0¬∞ latitude) divides the Earth into Northern and Southern hemispheres."
            },
            {
                question: "Which type of rainfall occurs when warm air is forced to rise over a mountain?",
                options: ["Convectional rainfall", "Relief/Orographic rainfall", "Cyclonic rainfall", "Frontal rainfall"],
                correct: "Relief/Orographic rainfall",
                explanation: "Relief rainfall occurs when air rises over mountains, cools, and condenses."
            },
            {
                question: "The most densely populated region in Nigeria is the:",
                options: ["Sokoto plains", "Niger Delta", "Kano plains", "Lagos-Ibadan axis"],
                correct: "Lagos-Ibadan axis",
                explanation: "The Lagos-Ibadan axis in Southwest Nigeria is the most densely populated."
            }
        ]
    };
    return templates[subject] || templates.english;
}
                    /* ============================================
   Box 3: Navigation & Past Questions Functions
   ============================================ */

function showSection(sectionId) {
    document.querySelectorAll('.section').forEach(section => {
        section.classList.remove('active');
    });
    document.getElementById(sectionId).classList.add('active');
    document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
        if(link.getAttribute('onclick').includes(sectionId)) {
            link.classList.add('active');
        }
    });
    window.scrollTo(0, 0);
    document.getElementById('mainNav').classList.remove('active');
}

function toggleMenu() {
    document.getElementById('mainNav').classList.toggle('active');
}

function populateSubjectSelects() {
    const pqSelect = document.getElementById('pqSubject');
    Object.keys(subjects).forEach(key => {
        const option = document.createElement('option');
        option.value = key;
        option.textContent = subjects[key].name;
        pqSelect.appendChild(option);
    });
}

function loadPastQuestions() {
    const subjectKey = document.getElementById('pqSubject').value;
    const year = document.getElementById('pqYear').value;
    const count = parseInt(document.getElementById('pqCount').value);
    
    if (!subjectKey) {
        alert('Please select a subject first');
        return;
    }
    
    const container = document.getElementById('questionsContainer');
    container.innerHTML = '<div style="width: 50px; height: 50px; border: 5px solid #f3f3f3; border-top: 5px solid var(--primary); border-radius: 50%; animation: spin 1s linear infinite; margin: 2rem auto;"></div>';
    
    setTimeout(() => {
        const questions = generateRandomQuestions(subjectKey, count, year);
        displayQuestions(questions, subjects[subjectKey].name);
    }, 500);
}

function displayQuestions(questions, subjectName) {
    const container = document.getElementById('questionsContainer');
    if (questions.length === 0) {
        container.innerHTML = '<div style="text-align: center; padding: 2rem;"><p>No questions available for the selected criteria.</p></div>';
        return;
    }
    
    let html = `<div style="margin-bottom: 1rem; padding: 1rem; background: #ede9fe; border-radius: 8px; border-left: 4px solid var(--primary);">
        <strong>Subject:</strong> ${subjectName} | 
        <strong>Questions:</strong> ${questions.length} | 
        <strong>Mode:</strong> Practice (Click options to check answers)
    </div>`;
    
    questions.forEach((q, index) => {
        html += `
            <div style="background: var(--white); border-radius: 12px; padding: 2rem; margin-bottom: 1.5rem; box-shadow: 0 4px 6px rgba(107, 33, 168, 0.1); border-left: 4px solid var(--primary);">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #e9d5ff;">
                    <span style="background: var(--primary); color: var(--white); padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.875rem; font-weight: 600;">Question ${index + 1}</span>
                    <span style="color: var(--gray); font-size: 0.875rem;">JAMB ${q.year}</span>
                </div>
                <div style="font-size: 1.1rem; margin-bottom: 1.5rem; line-height: 1.8; color: var(--dark);">${q.question}</div>
                <ul style="list-style: none;">
                    ${q.options.map((opt, optIndex) => `
                        <li style="padding: 1rem; margin-bottom: 0.75rem; background: #faf5ff; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; border: 2px solid transparent; display: flex; align-items: center; gap: 1rem;" 
                            onmouseover="this.style.borderColor='var(--primary-light)'" 
                            onmouseout="this.style.borderColor='transparent'"
                            onclick="checkAnswer(${index}, '${opt}', '${q.correct}', this)">
                            <span style="width: 30px; height: 30px; background: var(--primary); color: var(--white); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; flex-shrink: 0;">${String.fromCharCode(65 + optIndex)}</span>
                            <span>${opt}</span>
                        </li>
                    `).join('')}
                </ul>
                <div id="explanation-${index}" style="display: none; margin-top: 1rem; padding: 1rem; background: #ede9fe; border-radius: 8px; border-left: 4px solid var(--secondary);">
                    <strong>Correct Answer:</strong> ${q.correct}<br>
                    <strong>Explanation:</strong> ${q.explanation}
                </div>
            </div>
        `;
    });
    container.innerHTML = html;
}

function checkAnswer(qIndex, selected, correct, element) {
    const container = element.parentElement.parentElement;
    container.querySelectorAll('li').forEach(item => {
        item.style.background = '#faf5ff';
        item.style.borderColor = 'transparent';
    });
    
    if (selected === correct) {
        element.style.background = '#d1fae5';
        element.style.borderColor = '#10b981';
    } else {
        element.style.background = '#fee2e2';
        element.style.borderColor = '#ef4444';
        container.querySelectorAll('li').forEach(item => {
            if (item.textContent.includes(correct)) {
                item.style.background = '#d1fae5';
                item.style.borderColor = '#10b981';
            }
        });
    }
    document.getElementById(`explanation-${qIndex}`).style.display = 'block';
}
         /* ============================================
   Box 4: Mock Exam Setup & Timer Functions
   ============================================ */

let examState = {
    subjects: [],
    currentSubjectIndex: 0,
    currentQuestionIndex: 0,
    answers: {},
    timeRemaining: 7200,
    timerInterval: null,
    questions: {},
    isPaused: false,
    mode: 'standard'
};

function populateMockSubjects() {
    const container = document.getElementById('mockSubjectSelection');
    container.innerHTML = '';
    Object.keys(subjects).forEach(key => {
        if (key === 'english') return;
        const div = document.createElement('div');
        div.style.cssText = 'display: flex; align-items: center; gap: 0.75rem; padding: 1rem; background: #faf5ff; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; border: 2px solid transparent;';
        div.innerHTML = `
            <input type="checkbox" id="subj-${key}" value="${key}" onchange="updateSubjectSelection()" style="width: 20px; height: 20px; cursor: pointer;">
            <label for="subj-${key}" style="cursor: pointer; margin: 0; flex: 1;">${subjects[key].name}</label>
        `;
        div.onclick = function(e) {
            if (e.target.tagName !== 'INPUT') {
                const checkbox = div.querySelector('input');
                checkbox.checked = !checkbox.checked;
                updateSubjectSelection();
            }
        };
        container.appendChild(div);
    });
}

function updateSubjectSelection() {
    const checkboxes = document.querySelectorAll('#mockSubjectSelection input[type="checkbox"]:checked');
    const items = document.querySelectorAll('#mockSubjectSelection .checkbox-item, #mockSubjectSelection div');
    items.forEach(item => {
        item.style.borderColor = 'transparent';
        item.style.background = '#faf5ff';
    });
    checkboxes.forEach(cb => {
        const item = cb.closest('div');
        item.style.borderColor = 'var(--primary)';
        item.style.background = '#ede9fe';
    });
    const warning = document.getElementById('selectionWarning');
    warning.style.display = checkboxes.length !== 3 ? 'block' : 'none';
}

function startMockExam() {
    const checkboxes = document.querySelectorAll('#mockSubjectSelection input[type="checkbox"]:checked');
    const mode = document.getElementById('examMode').value;
    
    if (checkboxes.length !== 3) {
        alert('Please select exactly 3 subjects (English is compulsory and already included)');
        return;
    }
    
    examState.subjects = ['english', ...Array.from(checkboxes).map(cb => cb.value)];
    examState.currentSubjectIndex = 0;
    examState.currentQuestionIndex = 0;
    examState.answers = {};
    examState.mode = mode;
    examState.timeRemaining = mode === 'standard' ? 7200 : 10800;
    
    const questionsPerSubject = mode === 'standard' ? 40 : 100;
    examState.subjects.forEach(subjKey => {
        examState.questions[subjKey] = generateRandomQuestions(subjKey, questionsPerSubject, 'all');
    });
    
    document.getElementById('mockSetup').style.display = 'none';
    document.getElementById('examInterface').style.display = 'block';
    document.getElementById('examResults').style.display = 'none';
    
    playAudioNotification('start');
    startTimer();
    displayExamQuestion();
}

function startTimer() {
    updateTimerDisplay();
    examState.timerInterval = setInterval(() => {
        if (!examState.isPaused) {
            examState.timeRemaining--;
            updateTimerDisplay();
            if (examState.timeRemaining === 300 || examState.timeRemaining === 60) {
                playAudioNotification('warning');
            } else if (examState.timeRemaining === 0) {
                submitExam();
            }
        }
    }, 1000);
}

function updateTimerDisplay() {
    const hours = Math.floor(examState.timeRemaining / 3600);
    const minutes = Math.floor((examState.timeRemaining % 3600) / 60);
    const seconds = examState.timeRemaining % 60;
    const timerEl = document.getElementById('examTimer');
    timerEl.textContent = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
    timerEl.style.color = 'var(--secondary-light)';
    if (examState.timeRemaining < 300) {
        timerEl.style.color = 'var(--danger)';
        timerEl.style.animation = 'pulse 0.5s infinite';
    } else if (examState.timeRemaining < 900) {
        timerEl.style.color = 'var(--warning)';
        timerEl.style.animation = 'pulse 1s infinite';
    } else {
        timerEl.style.animation = 'none';
    }
}

function pauseExam() {
    examState.isPaused = true;
    document.getElementById('pauseMenu').style.display = 'flex';
}

function resumeExam() {
    examState.isPaused = false;
    document.getElementById('pauseMenu').style.display = 'none';
}

function confirmEndExam() {
    if (confirm('Are you sure you want to end the exam? Your progress will be submitted.')) {
        document.getElementById('pauseMenu').style.display = 'none';
        submitExam();
    }
}

function confirmSubmitExam() {
    if (confirm('Are you sure you want to submit your exam? You cannot undo this action.')) {
        submitExam();
    }
}

function submitExam() {
    clearInterval(examState.timerInterval);
    playAudioNotification('submit');
    const results = calculateResults();
    document.getElementById('examInterface').style.display = 'none';
    document.getElementById('examResults').style.display = 'block';
    displayResults(results);
}

function getSubjectColor(key) {
    const colors = {
        english: '#dc2626',
        mathematics: '#2563eb',
        physics: '#9333ea',
        chemistry: '#0891b2',
        biology: '#16a34a',
        economics: '#d97706',
        government: '#4b5563',
        crs: '#ea580c',
        literature: '#059669',
        commerce: '#c2410c',
        accounting: '#7c3aed',
        geography: '#0284c7'
    };
    return colors[key] || 'var(--primary)';
}
  /* ============================================
   Box 5: Exam Navigation & Results Functions
   ============================================ */

function displayExamQuestion() {
    const subjKey = examState.subjects[examState.currentSubjectIndex];
    const subject = subjects[subjKey];
    const questions = examState.questions[subjKey];
    const qIndex = examState.currentQuestionIndex;
    const question = questions[qIndex];
    
    document.getElementById('examSubjectTitle').textContent = subject.name;
    document.getElementById('examProgressText').textContent = `Question ${qIndex + 1} of ${questions.length} (${subject.name})`;
    
    updateProgressDots();
    
    const container = document.getElementById('examQuestionContainer');
    const savedAnswer = examState.answers[`${subjKey}_${qIndex}`];
    
    container.innerHTML = `
        <div style="background: var(--white); border-radius: 12px; padding: 2rem; margin-bottom: 1.5rem; box-shadow: 0 4px 6px rgba(107, 33, 168, 0.1); border-left: 4px solid ${getSubjectColor(subjKey)};">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #e9d5ff;">
                <span style="background: ${getSubjectColor(subjKey)}; color: var(--white); padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.875rem; font-weight: 600;">Question ${qIndex + 1}</span>
                <span style="color: var(--gray); font-size: 0.875rem;">JAMB ${question.year}</span>
            </div>
            <div style="font-size: 1.1rem; margin-bottom: 1.5rem; line-height: 1.8; color: var(--dark);">${question.question}</div>
            <ul style="list-style: none;">
                ${question.options.map((opt, optIndex) => {
                    const isSelected = savedAnswer === opt;
                    return `
                        <li style="padding: 1rem; margin-bottom: 0.75rem; background: ${isSelected ? '#ede9fe' : '#faf5ff'}; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; border: 2px solid ${isSelected ? 'var(--primary)' : 'transparent'}; display: flex; align-items: center; gap: 1rem;" 
                            onclick="selectAnswer('${opt}')">
                            <span style="width: 30px; height: 30px; background: ${isSelected ? 'var(--primary)' : getSubjectColor(subjKey)}; color: var(--white); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; flex-shrink: 0;">${String.fromCharCode(65 + optIndex)}</span>
                            <span>${opt}</span>
                        </li>
                    `;
                }).join('')}
            </ul>
        </div>
    `;
}

function updateProgressDots() {
    const container = document.getElementById('examProgress');
    const subjKey = examState.subjects[examState.currentSubjectIndex];
    const questions = examState.questions[subjKey];
    const currentQ = examState.currentQuestionIndex;
    
    let html = '';
    questions.forEach((_, idx) => {
        const isAnswered = examState.answers[`${subjKey}_${idx}`] !== undefined;
        const isCurrent = idx === currentQ;
        const bg = isAnswered ? '#10b981' : isCurrent ? 'var(--secondary)' : 'rgba(255,255,255,0.3)';
        const scale = isCurrent ? 'scale(1.3)' : 'scale(1)';
        html += `<div style="width: 12px; height: 12px; border-radius: 50%; background: ${bg}; cursor: pointer; transition: all 0.3s ease; transform: ${scale}" 
                 onclick="jumpToQuestion(${idx})" title="Question ${idx + 1}"></div>`;
    });
    container.innerHTML = html;
}

function selectAnswer(option) {
    const subjKey = examState.subjects[examState.currentSubjectIndex];
    const qIndex = examState.currentQuestionIndex;
    examState.answers[`${subjKey}_${qIndex}`] = option;
    displayExamQuestion();
}

function nextQuestion() {
    const subjKey = examState.subjects[examState.currentSubjectIndex];
    const questions = examState.questions[subjKey];
    
    if (examState.currentQuestionIndex < questions.length - 1) {
        examState.currentQuestionIndex++;
        displayExamQuestion();
    } else if (examState.currentSubjectIndex < examState.subjects.length - 1) {
        examState.currentSubjectIndex++;
        examState.currentQuestionIndex = 0;
        displayExamQuestion();
        alert(`Moving to next subject: ${subjects[examState.subjects[examState.currentSubjectIndex]].name}`);
    } else {
        if (confirm('You have reached the end of the exam. Do you want to submit?')) {
            submitExam();
        }
    }
}

function prevQuestion() {
    if (examState.currentQuestionIndex > 0) {
        examState.currentQuestionIndex--;
        displayExamQuestion();
    } else if (examState.currentSubjectIndex > 0) {
        examState.currentSubjectIndex--;
        examState.currentQuestionIndex = examState.questions[examState.subjects[examState.currentSubjectIndex]].length - 1;
        displayExamQuestion();
    }
}

function jumpToQuestion(index) {
    examState.currentQuestionIndex = index;
    displayExamQuestion();
}

function calculateResults() {
    const results = {
        subjects: {},
        totalScore: 0,
        totalPossible: 0
    };
    
    examState.subjects.forEach(subjKey => {
        const questions = examState.questions[subjKey];
        let correct = 0;
        questions.forEach((q, idx) => {
            const userAnswer = examState.answers[`${subjKey}_${idx}`];
            if (userAnswer === q.correct) correct++;
        });
        
        const score = correct;
        const total = questions.length;
        
        results.subjects[subjKey] = {
            name: subjects[subjKey].name,
            correct: correct,
            total: total,
            percentage: (correct / total) * 100,
            score: score
        };
        
        results.totalScore += score;
        results.totalPossible += total;
    });
    
    results.average = (results.totalScore / results.totalPossible) * 100;
    results.grade = calculateGrade(results.average);
    return results;
}

function calculateGrade(percentage) {
    if (percentage >= 70) return { grade: 'A', message: 'Excellent! Distinction', color: '#10b981' };
    if (percentage >= 60) return { grade: 'B', message: 'Very Good', color: '#3b82f6' };
    if (percentage >= 50) return { grade: 'C', message: 'Good', color: '#f59e0b' };
    if (percentage >= 45) return { grade: 'D', message: 'Pass', color: '#f97316' };
    return { grade: 'F', message: 'Fail - Keep Practicing', color: '#ef4444' };
}

function displayResults(results) {
    const percentage = results.average;
    document.getElementById('scoreCircle').style.setProperty('--percentage', percentage);
    document.getElementById('totalScore').textContent = Math.round(results.totalScore);
    
    const gradeInfo = results.grade;
    const badge = document.getElementById('gradeBadge');
    badge.style.background = gradeInfo.color + '20';
    badge.style.color = gradeInfo.color;
    badge.textContent = `Grade ${gradeInfo.grade} - ${gradeInfo.message}`;
    
    const breakdownContainer = document.getElementById('subjectBreakdown');
    breakdownContainer.innerHTML = '';
    
    Object.keys(results.subjects).forEach(key => {
        const subj = results.subjects[key];
        const div = document.createElement('div');
        div.style.cssText = 'background: #faf5ff; padding: 1.5rem; border-radius: 12px; border-left: 4px solid ' + getSubjectColor(key);
        div.innerHTML = `
            <h4 style="color: var(--primary); margin-bottom: 0.5rem;">${subj.name}</h4>
            <div style="font-size: 1.5rem; font-weight: bold; color: ${getSubjectColor(key)}; margin: 0.5rem 0;">
                ${subj.correct}/${subj.total}
            </div>
            <div style="font-size: 0.875rem; color: var(--gray);">
                ${subj.percentage.toFixed(1)}% correct
            </div>
            <div style="margin-top: 0.5rem; height: 8px; background: #e9d5ff; border-radius: 4px; overflow: hidden;">
                <div style="width: ${subj.percentage}%; height: 100%; background: ${getSubjectColor(key)}; transition: width 1s ease;"></div>
            </div>
        `;
        breakdownContainer.appendChild(div);
    });
}

function reviewExam() {
    document.getElementById('examResults').style.display = 'none';
    document.getElementById('examInterface').style.display = 'block';
    examState.currentSubjectIndex = 0;
    examState.currentQuestionIndex = 0;
    displayExamQuestion();
}

function startNewMock() {
    document.getElementById('examResults').style.display = 'none';
    document.getElementById('mockSetup').style.display = 'block';
    document.querySelectorAll('#mockSubjectSelection input').forEach(cb => cb.checked = false);
    updateSubjectSelection();
}

function closeModal() {
    document.getElementById('confirmModal').style.display = 'none';
}

function playAudioNotification(type) {
    const audio = document.getElementById(`audio${type.charAt(0).toUpperCase() + type.slice(1)}`);
    if (audio) {
        audio.currentTime = 0;
        audio.play().catch(e => console.log('Audio play failed:', e));
    }
}

function init() {
    generateQuestionBank();
    populateSubjectSelects();
    populateMockSubjects();
    
    const homeGrid = document.getElementById('homeSubjects');
    const allGrid = document.getElementById('allSubjectsGrid');
    
    Object.keys(subjects).forEach(key => {
        const subj = subjects[key];
        const cardHTML = `
            <div style="background: var(--white); border-radius: 12px; padding: 1.5rem; text-align: center; cursor: pointer; transition: all 0.3s ease; border: 2px solid transparent; position: relative; overflow: hidden;" 
                 onmouseover="this.style.borderColor='var(--primary)'; this.style.transform='translateY(-5px)'; this.style.boxShadow='0 10px 25px rgba(107, 33, 168, 0.15)'" 
                 onmouseout="this.style.borderColor='transparent'; this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 6px rgba(107, 33, 168, 0.1)'"
                 onclick="showSection('past-questions'); document.getElementById('pqSubject').value='${key}'; loadPastQuestions();">
                <div style="font-size: 2.5rem; margin-bottom: 1rem;">${subj.icon}</div>
                <div style="font-weight: 600; color: var(--dark); margin-bottom: 0.5rem;">${subj.name}</div>
                <div style="font-size: 0.875rem; color: var(--gray);">${subj.description}</div>
            </div>
        `;
        homeGrid.innerHTML += cardHTML;
        allGrid.innerHTML += cardHTML;
    });
}

document.addEventListener('DOMContentLoaded', init);
  
